<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flipbook A4 groß</title>
<style>
body {
  margin: 0;
  height: 100vh;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #FFC0CB; /* pink */
  overflow: hidden;
}

/* Back Button */
#back-home {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 50px;
  height: 50px;
  background: rgba(255,255,255,0.8);
  color: #FFC0CB;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 24px;
  text-decoration: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  z-index: 100;
}

/* Buch Container: größer, A4 */
.book {
  position: relative;
  width: 90vw;               /* größer als vorher */
  max-width: 1200px;          /* maximale Breite */
  height: calc(90vw * 1.414); /* A4 Verhältnis */
  max-height: 1697px;        /* max Höhe passend zu max Breite */
  perspective: 1200px;
}

/* Seiten */
.page {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform-origin: left;
  transition: transform 0.6s ease, z-index 0s linear 0.6s;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.page.flipped {
  transform: rotateY(-180deg);
}

/* Vorder- und Rückseite */
.front, .back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  flex-direction: column;
  background-color: white;
}

.back {
  transform: rotateY(180deg);
}

/* Bilder */
.front img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* passt sich A4 Container perfekt an */
}

/* Klick-Zonen */
.click-zone {
  position: absolute;
  top: 0;
  width: 50%;
  height: 100%;
  z-index: 10;
}
.click-left { left: 0; }
.click-right { right: 0; }
</style>
</head>
<body>

<a id="back-home" href="./home.html">←</a>

<div class="book" id="book">

  <!-- Seite 1 -->
  <div class="page" style="z-index:4;">
    <div class="front">
      <img src="buch1.png" alt="Seite 1">
    </div>
    <div class="back"></div>
  </div>

  <!-- Seite 2 -->
  <div class="page" style="z-index:3;">
    <div class="front">
      <img src="seite2.png" alt="Seite 2">
    </div>
    <div class="back"></div>
  </div>

  <!-- Seite 3 -->
  <div class="page" style="z-index:2;">
    <div class="front">
      <img src="seite3.png" alt="Seite 3">
    </div>
    <div class="back"></div>
  </div>

  <!-- Seite 4 -->
  <div class="page" style="z-index:1;">
    <div class="front">
      <img src="seite4.png" alt="Seite 4">
    </div>
    <div class="back"></div>
  </div>

</div>

<div class="click-zone click-left"></div>
<div class="click-zone click-right"></div>

<script>
const pages = Array.from(document.querySelectorAll('.page'));
let currentIndex = 0;

function updateZIndex() {
  pages.forEach((p,i)=>p.style.zIndex = pages.length - i);
  if(currentIndex < pages.length) pages[currentIndex].style.zIndex = pages.length + 1;
}

function nextPage() {
  if(currentIndex >= pages.length-1) return;
  pages[currentIndex].classList.add('flipped');
  currentIndex++;
  updateZIndex();
}

function prevPage() {
  if(currentIndex <= 0) return;
  currentIndex--;
  pages[currentIndex].classList.remove('flipped');
  updateZIndex();
}

// Klick-Zonen
document.querySelector(".click-right").addEventListener("click", nextPage);
document.querySelector(".click-left").addEventListener("click", prevPage);

// Swipe
let startX = 0;
document.addEventListener("touchstart", e => startX = e.touches[0].clientX);
document.addEventListener("touchend", e => {
  const diff = e.changedTouches[0].clientX - startX;
  if(diff < -30) nextPage();
  if(diff > 30) prevPage();
});

updateZIndex();
</script>

</body>
</html>
