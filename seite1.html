<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0,
maximum-scale=1.0,user-scalable=no">

<title>A4 PDF Karten</title>

<link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
}

body{
  background:#FFC0CB;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:system-ui;
}

#back-home{
  position:absolute;
  top:20px;
  left:20px;
  z-index:1000;
  width:50px;
  height:50px;
  background:rgba(255,255,255,.85);
  color:#FFC0CB;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  font-weight:bold;
  text-decoration:none;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
}

.swiper{
  width:min(94vw,420px);
  aspect-ratio:1/1.414;
}

@media(max-width:600px){
  .swiper{ width:85vw; }
}

.swiper-slide{
  background:white;
  border-radius:0;
  box-shadow:0 25px 60px rgba(0,0,0,.18);
  display:flex;
}

canvas{
  width:100%;
  height:100%;
  object-fit:contain;
}
</style>
</head>

<body>

<a id="back-home">‚Üê</a>

<div class="swiper">
  <div class="swiper-wrapper" id="slides"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@4.0.379/build/pdf.min.js"></script>

<script>
pdfjsLib.GlobalWorkerOptions.workerSrc =
"https://cdn.jsdelivr.net/npm/pdfjs-dist@4.0.379/build/pdf.worker.min.js";

document.getElementById('back-home').onclick=e=>{
 e.preventDefault();
 window.location.href='./home.html';
};

async function loadPDF(){
  const pdf = await pdfjsLib.getDocument('dokument.pdf').promise;
  const container = document.getElementById("slides");

  for(let i=1;i<=pdf.numPages;i++){
    const page = await pdf.getPage(i);
    const viewport = page.getViewport({scale:2});

    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = viewport.width;
    canvas.height = viewport.height;

    await page.render({canvasContext:ctx,viewport}).promise;

    const slide = document.createElement("div");
    slide.className = "swiper-slide";
    slide.appendChild(canvas);
    container.appendChild(slide);
  }

  new Swiper('.swiper',{
    effect:"cards",
    grabCursor:true,
    cardsEffect:{perSlideOffset:16,perSlideRotate:1.5},
    rewind:true
  });
}

loadPDF();
</script>

</body>
</html>
